doctype 5
html
	head
		meta(charset='UTF-8')
		title Home
		meta(name="viewport", content="width=device-width, initial-scale=1.0, user-scalable=no")
		script(src="libs/jquery.min.js")
		script(src="libs/three.min.js")
		script(src="libs/kinetic-v4.7.3.min.js")
		script(src="FirstPersonControls.js")
		script(src="FlyControls.js")
		script(src="index.js")
		script#vertex_shader(type="x-shader/x-vertex").
			varying vec2 vUv;
			varying vec3 vNormal;
			varying vec3 vViewPosition;
			void main() {
				vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
				vUv = uv;
				vNormal = normalize( normalMatrix * normal );
				vViewPosition = -mvPosition.xyz;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}
		script#fragment_shader(type="x-shader/x-fragment").
			uniform sampler2D texture;
			uniform sampler2D texture2;
			varying vec2 vUv;
			varying vec3 vNormal;
			varying vec3 vViewPosition;
			void main() {
				vec4 tColor = texture2D( texture, vUv );
				gl_FragColor = tColor;
			}


	body
		table
			tr
				td 2d
				td 3d
				td Plan
				td test
			tr
				td(style="border:5px solid red;")
					span#floorplan
				td
					div#container
				td
					span
						textarea#text(rows=22, cols=50)
							| # OUTER WALLS
							| ## height: 270
							| ## width: 44
							| ## right.color: #B1E74C
							| ## top.color: #C79478
							| ## bottom.color: #C79478
							| ## left.color: #C79478
							| ## start.z: 0
							| ## end.z: 0
							| Wall
							| 	start: 0, -580
							| 	end: 0, 240
							| Wall
							| 	start: 44, 240
							| 	end: 990, 240
							| Wall
							| 	start: 990, -580
							| 	end: 990, 240
							| Wall
							| 	start: 44, -536
							| 	end: 990, -536
							| # BATHROOM
							| ## height: 270
							| ## width: 10
							| ## right.color: #B1E74C
							| ## start.z: 0
							| ## end.z: 0
							| Wall
							| 	start: 315, 196
							| 	end: 315, -60
							| Wall
							| 	start: 44, 10
							| 	end: 137, 10
							| Wall
							| 	start: 211, 10
							| 	end: 305, 10
							| Wall
							| 	start: 137, 0
							| 	end: 137, -60
							| Wall
							| 	start: 221, 0
							| 	end: 221, -60
							| # BEDROOM
							| ## right.color: #CCCCCC
							| Wall
							| 	start: 315, -150, 0
							| 	end: 315, -536, 0
							| 	height: 270
							| 	width: 10
							| 	right.color: #B1E74C
							| # Corridor
							| ## start.z: 0
							| ## end.z: 0
							| ## width: 10
							| ## height: 270
							| Wall
							|   start: 790, -535
							|   end: 790, -335
							| Wall
							|   start: 790, -335
							|   end: 990, -335

